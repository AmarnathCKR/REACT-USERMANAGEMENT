{"ast":null,"code":"import { smartEscape } from \"./smartEscape.js\";\nexport function finalize_source(source, format, url_suffix) {\n  let source_to_sign;\n  source = source.replace(/([^:])\\/\\//g, '$1/');\n  if (source.match(/^https?:\\//i)) {\n    source = smartEscape(source);\n    source_to_sign = source;\n  } else {\n    source = encodeURIComponent(decodeURIComponent(source)).replace(/%3A/g, \":\").replace(/%2F/g, \"/\");\n    source_to_sign = source;\n    if (url_suffix) {\n      if (url_suffix.match(/[\\.\\/]/)) {\n        throw new Error('url_suffix should not include . or /');\n      }\n      source = source + '/' + url_suffix;\n    }\n    if (format != null) {\n      source = source + '.' + format;\n      source_to_sign = source_to_sign + '.' + format;\n    }\n  }\n  return [source, source_to_sign];\n}","map":{"version":3,"names":["smartEscape","finalize_source","source","format","url_suffix","source_to_sign","replace","match","encodeURIComponent","decodeURIComponent","Error"],"sources":["C:/Users/amarn/Desktop/REACT PROJECT/usermanagement/Front-End/node_modules/@cloudinary/transformation-builder-sdk/backwards/utils/finalize_source.js"],"sourcesContent":["import { smartEscape } from \"./smartEscape.js\";\nexport function finalize_source(source, format, url_suffix) {\n    let source_to_sign;\n    source = source.replace(/([^:])\\/\\//g, '$1/');\n    if (source.match(/^https?:\\//i)) {\n        source = smartEscape(source);\n        source_to_sign = source;\n    }\n    else {\n        source = encodeURIComponent(decodeURIComponent(source)).replace(/%3A/g, \":\").replace(/%2F/g, \"/\");\n        source_to_sign = source;\n        if (url_suffix) {\n            if (url_suffix.match(/[\\.\\/]/)) {\n                throw new Error('url_suffix should not include . or /');\n            }\n            source = source + '/' + url_suffix;\n        }\n        if (format != null) {\n            source = source + '.' + format;\n            source_to_sign = source_to_sign + '.' + format;\n        }\n    }\n    return [source, source_to_sign];\n}\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,SAASC,eAAe,CAACC,MAAM,EAAEC,MAAM,EAAEC,UAAU,EAAE;EACxD,IAAIC,cAAc;EAClBH,MAAM,GAAGA,MAAM,CAACI,OAAO,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7C,IAAIJ,MAAM,CAACK,KAAK,CAAC,aAAa,CAAC,EAAE;IAC7BL,MAAM,GAAGF,WAAW,CAACE,MAAM,CAAC;IAC5BG,cAAc,GAAGH,MAAM;EAC3B,CAAC,MACI;IACDA,MAAM,GAAGM,kBAAkB,CAACC,kBAAkB,CAACP,MAAM,CAAC,CAAC,CAACI,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;IACjGD,cAAc,GAAGH,MAAM;IACvB,IAAIE,UAAU,EAAE;MACZ,IAAIA,UAAU,CAACG,KAAK,CAAC,QAAQ,CAAC,EAAE;QAC5B,MAAM,IAAIG,KAAK,CAAC,sCAAsC,CAAC;MAC3D;MACAR,MAAM,GAAGA,MAAM,GAAG,GAAG,GAAGE,UAAU;IACtC;IACA,IAAID,MAAM,IAAI,IAAI,EAAE;MAChBD,MAAM,GAAGA,MAAM,GAAG,GAAG,GAAGC,MAAM;MAC9BE,cAAc,GAAGA,cAAc,GAAG,GAAG,GAAGF,MAAM;IAClD;EACJ;EACA,OAAO,CAACD,MAAM,EAAEG,cAAc,CAAC;AACnC"},"metadata":{},"sourceType":"module","externalDependencies":[]}